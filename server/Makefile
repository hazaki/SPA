all: server

server: main.o receive.o encrypt_decrypt.o
	gcc main.o receive.o -lpcap encrypt_decrypt.o -lssl -lcrypto -o server

main.o: main.c receive.h
	gcc -c main.c

encrypt_decrypt.o: encrypt_decrypt.c encrypt_decrypt.h
	gcc -c encrypt_decrypt.c

forgery.o: forgery.c forgery.h encrypt_decrypt.h
	gcc -c forgery.c

clean:
	@rm -f *.o
	@rm -f serveur

help :
	@echo -e "Usage :"
	@echo -e "  make all		build the software"
	@echo -e "  make clean		remove all files generated by make"
	@echo -e "  make help		display this help"
